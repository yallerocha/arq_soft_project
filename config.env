# Arquivo de Configuração para Testes K6 Distribuídos
# Preencha as informações abaixo e execute: ./run_complete_test.sh

# ===========================================
# CONFIGURAÇÕES AWS
# ===========================================

# Caminho para sua chave SSH (.pem)
AWS_KEY_PATH="./sua-chave.pem"

# IPs ou hostnames das instâncias EC2 (sem usuario@)
EC2_BRAZIL="ec2-xx-xx-xx-xx.sa-east-1.compute.amazonaws.com"
EC2_USA="ec2-xx-xx-xx-xx.us-east-1.compute.amazonaws.com"  
EC2_CHINA="ec2-xx-xx-xx-xx.cn-north-1.compute.amazonaws.com"

# Usuario SSH (geralmente 'ubuntu' para Ubuntu, 'ec2-user' para Amazon Linux)
SSH_USER="ubuntu"

# ===========================================
# CONFIGURAÇÕES DA API DE TESTE
# ===========================================

# URLs dos servidores da sua aplicação em cada região
API_URL_BRAZIL="http://15.228.71.189"
API_URL_USA="http://54.166.96.217"
API_URL_CHINA="http://52.196.245.151"

# Para cenário unsharded, qual servidor usar (normalmente USA)
API_URL_CENTRAL="http://54.166.96.217"

# ===========================================
# CONFIGURAÇÕES DO TESTE K6
# ===========================================

# Número de usuários virtuais por região
VUS_PER_REGION=50

# Duração total do teste
TEST_DURATION="30m"

# Intervalo entre requisições (em segundos)
SLEEP_BETWEEN_REQUESTS="1-3"

# ===========================================
# CONFIGURAÇÕES AVANÇADAS
# ===========================================

# Limite de tempo de resposta esperado (ms)
RESPONSE_TIME_THRESHOLD=500

# Taxa máxima de erro aceitável (%)
ERROR_RATE_THRESHOLD=5

# Gerar usuários sintéticos (quantos por região)
SYNTHETIC_USERS_PER_REGION=1000

# Prefixo para identificar usuários por região
USER_PREFIX_BRAZIL="br_user"
USER_PREFIX_USA="us_user"
USER_PREFIX_CHINA="cn_user"

# ===========================================
# CONFIGURAÇÕES DE MONITORAMENTO
# ===========================================

# Coletar métricas de sistema (CPU, memória, I/O, rede)
ENABLE_SYSTEM_MONITORING=true

# Intervalo de coleta de métricas (segundos)
MONITORING_INTERVAL=5

# Monitorar processos específicos
MONITOR_PROCESSES="k6,node,python"

# Coletar métricas de rede detalhadas
ENABLE_NETWORK_MONITORING=true

# ===========================================
# CONFIGURAÇÕES DE RESULTADOS
# ===========================================

# Diretório para salvar resultados
RESULTS_BASE_DIR="./test_results"

# Enviar resultados por email (opcional, deixe vazio se não quiser)
EMAIL_RECIPIENT=""

# Gerar gráficos automaticamente (true/false)
GENERATE_CHARTS=true

# Exportar para InfluxDB (opcional, deixe vazio se não usar)
INFLUXDB_URL=""

# ===========================================
# EXEMPLO DE PREENCHIMENTO
# ===========================================
# AWS_KEY_PATH="./my-aws-key.pem"
# EC2_BRAZIL="ec2-54-233-123-45.sa-east-1.compute.amazonaws.com"
# EC2_USA="ec2-34-201-67-89.us-east-1.compute.amazonaws.com"
# EC2_CHINA="ec2-52-81-12-34.cn-north-1.compute.amazonaws.com"
# API_URL_BRAZIL="http://api-brazil.mycompany.com:8000"
# API_URL_USA="http://api-usa.mycompany.com:8000"
# API_URL_CHINA="http://api-china.mycompany.com:8000"
